general {
    gaps_in = 2.5
    gaps_out = 5
    border_size = 2
    col.active_border = $foreground
    col.inactive_border = $color0
    resize_on_border = 1
    hover_icon_on_border = 0
    layout = hy3
}

group {
    groupbar {
        scrolling = false
        col.active = $color8
        col.inactive = $color0
    }

    auto_group = false
    col.border_active = $foreground
    col.border_inactive = $color0
}

decoration {
    rounding = 8
    shadow {
        enabled = false
    }
    blur {
        enabled = true
        new_optimizations = true
        ignore_opacity = false
        size = 10
        passes = 2
    }
}

animations {
    enabled = false
}

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_on_top = true
}

plugin {
  hy3 {
    # disable gaps when only one window is onscreen
    # 0 - always show gaps
    # 1 - hide gaps with a single window onscreen
    # 2 - 1 but also show the window border
    # no_gaps_when_only = 0 # default: 0

    # policy controlling what happens when a node is removed from a group,
    # leaving only a group
    # 0 = remove the nested group
    # 1 = keep the nested group
    # 2 = keep the nested group only if its parent is a tab group
    # node_collapse_policy = 2 # default: 2

    # offset from group split direction when only one window is in a group
    # group_inset = 10 # default: 10

    # if a tab group will automatically be created for the first window spawned in a workspace
    # tab_first_window = true

    # tab group settings
    tabs {
      # height of the tab bar
    #   height = <int> # default: 22

      # padding between the tab bar and its focused node
    #   padding = <int> # default: 6

      # the tab bar should animate in/out from the top instead of below the window
    #   from_top = <bool> # default: false

      # radius of tab bar corners
    #   radius = <int> # default: 6

      # tab bar border width
    #   border_width = <int> # default: 2

      # render the window title on the bar
    #   render_text = <bool> # default: true

      # center the window title
    #   text_center = <bool> # default: true

      # font to render the window title with
    #   text_font = <string> # default: Sans

      # height of the window title
    #   text_height = <int> # default: 8

      # left padding of the window title
    #   text_padding = <int> # default: 3

      # active tab bar segment colors
    #   col.active = <color> # default: rgba(50a0e0ff)
    #   col.active.border = <color> # default: rgba(70b0c0ff)
    #   col.active.text = <color> # default: rgba(ffffffff)

      # focused tab bar segment colors (focused node in unfocused container)
    #   col.focused = <color> # default: rgba(60606040)
    #   col.focused.border = <color> # default: rgba(808080ee)
    #   col.focused.text = <color> # default: rgba(ffffffff)

      # inactive tab bar segment colors
    #   col.inactive = <color> # default: rgba(30303050)
    #   col.inactive.border = <color> # default: rgba(50505090)
    #   col.inactive.text = <color> # default: rgba(ffffffff)

      # urgent tab bar segment colors
    #   col.urgent = <color> # default: rgba(ff4f4fff)
    #   col.urgent.border = <color> # default: rgba(ff8080ff)
    #   col.urgent.text = <color> # default: rgba(ffffffff)

      # if tab backgrounds should be blurred
      # Blur is only visible when the above colors are not opaque.
    #   blur = true # default: true

      # opacity multiplier for tabs
      # Applies to blur as well as the given colors.
    #   opacity = 1.0 # default: 1.0
    }

    # autotiling settings
    autotile {
      # enable autotile
      # enable = true # default: false

      # make autotile-created groups ephemeral
      # ephemeral_groups = true # default: true

      # if a window would be squished smaller than this width, a vertical split will be created
      # -1 = never automatically split vertically
      # 0 = always automatically split vertically
      # <number> = pixel width to split at
    #   trigger_width = 0 # default: 0

      # if a window would be squished smaller than this height, a horizontal split will be created
      # -1 = never automatically split horizontally
      # 0 = always automatically split horizontally
      # <number> = pixel height to split at
    #   trigger_height = 0 # default: 0

      # a space or comma separated list of workspace ids where autotile should be enabled
      # it's possible to create an exception rule by prefixing the definition with "not:"
      # workspaces = 1,2 # autotiling will only be enabled on workspaces 1 and 2
      # workspaces = not:1,2 # autotiling will be enabled on all workspaces except 1 and 2
    #   workspaces = all # default: all
    }
  }
}

misc {
    focus_on_activate = true
    disable_hyprland_logo = true
    enable_swallow = true
    swallow_regex = ^(org.kde.konsole)$
    # If window is fullscreen and new window is spawned, unfullscreen
    new_window_takes_over_fullscreen = 2
}

# unscale XWayland
xwayland {
  force_zero_scaling = true
}
